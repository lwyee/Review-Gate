# Review Gate V2 ã‚²ãƒ¼ãƒˆ - Cursor Extension

[![Version](https://img.shields.io/badge/version-2.7.3-orange.svg)](https://github.com/your-repo/review-gate-v2)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Cursor](https://img.shields.io/badge/Cursor-Extension-brightgreen.svg)](https://cursor.sh)

> é«˜çº§å®¡æŸ¥é—¨ç³»ç»Ÿï¼Œé›†æˆMCP (Model Context Protocol) ä¸ºCursor IDEæä¾›æ™ºèƒ½äº¤äº’ä½“éªŒ

## ğŸš€ é¡¹ç›®ç®€ä»‹

Review Gate V2 æ˜¯ä¸€ä¸ªä¸º Cursor IDE è®¾è®¡çš„é«˜çº§æ‰©å±•ï¼Œé€šè¿‡ MCP (Model Context Protocol) é›†æˆæä¾›æ™ºèƒ½çš„ä»£ç å®¡æŸ¥å’Œåé¦ˆç³»ç»Ÿã€‚è¯¥æ‰©å±•æ”¯æŒå¤šæ¨¡æ€è¾“å…¥ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€å›¾åƒä¸Šä¼ å’Œè¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½ï¼Œä¸ºå¼€å‘è€…æä¾›æ— ç¼çš„AIäº¤äº’ä½“éªŒã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¯ MCPé›†æˆ**: ä¸Cursor AI Agentæ·±åº¦é›†æˆï¼Œæ”¯æŒå®æ—¶é€šä¿¡
- **ğŸ’¬ æ™ºèƒ½èŠå¤©ç•Œé¢**: ç°ä»£åŒ–çš„èŠå¤©UIï¼Œæ”¯æŒæ¶ˆæ¯å†å²å’ŒçŠ¶æ€æŒ‡ç¤º
- **ğŸ–¼ï¸ å¤šåª’ä½“æ”¯æŒ**: 
  - å›¾åƒæ‹–æ‹½ä¸Šä¼ 
  - å‰ªè´´æ¿å›¾åƒç²˜è´´
  - å¤šç§å›¾åƒæ ¼å¼æ”¯æŒ (PNG, JPG, JPEG, GIF, BMP, WebP)
- **ğŸ¤ è¯­éŸ³è½¬æ–‡å­—**: åŸºäºSoXå’ŒFaster-Whisperçš„æœ¬åœ°è¯­éŸ³è¯†åˆ«
- **âš¡ å®æ—¶çŠ¶æ€ç›‘æ§**: MCPæœåŠ¡å™¨çŠ¶æ€å®æ—¶æ˜¾ç¤º
- **ğŸ”„ è‡ªåŠ¨åŒ–å·¥ä½œæµ**: æ”¯æŒå¤šç§å·¥å…·è°ƒç”¨å’Œå“åº”æ¨¡å¼

## ğŸ“¦ å®‰è£…ä½¿ç”¨

### å‰ææ¡ä»¶

- **Cursor IDE** (ç‰ˆæœ¬ >= 1.60.0)
- **Node.js** (æ¨èç‰ˆæœ¬ >= 16.x)
- **SoX** (è¯­éŸ³åŠŸèƒ½æ‰€éœ€)
  ```bash
  # macOS
  brew install sox
  
  # Ubuntu/Debian
  sudo apt-get install sox
  
  # Windows
  # ä¸‹è½½å¹¶å®‰è£… SoX from https://sox.sourceforge.net/
  ```

### å®‰è£…æ‰©å±•

1. **ä»VSIXæ–‡ä»¶å®‰è£…**:
   ```bash
   # åœ¨Cursorä¸­æ‰“å¼€å‘½ä»¤é¢æ¿ (Cmd+Shift+P / Ctrl+Shift+P)
   # è¾“å…¥: Extensions: Install from VSIX...
   # é€‰æ‹© review-gate-v2-2.7.3.vsix æ–‡ä»¶
   ```

2. **æ‰‹åŠ¨å®‰è£…**:
   - ä¸‹è½½ `review-gate-v2-2.7.3.vsix` æ–‡ä»¶
   - åœ¨Cursorä¸­: æ‰©å±• â†’ ä»VSIXå®‰è£…
   - é€‰æ‹©ä¸‹è½½çš„æ–‡ä»¶

### å¿«é€Ÿå¼€å§‹

1. **æ¿€æ´»æ‰©å±•**: å®‰è£…åæ‰©å±•ä¼šè‡ªåŠ¨æ¿€æ´»
2. **æ‰“å¼€Review Gate**: 
   - ä½¿ç”¨å¿«æ·é”®: `Cmd+Shift+R` (Mac) / `Ctrl+Shift+R` (Windows/Linux)
   - æˆ–é€šè¿‡å‘½ä»¤é¢æ¿: `Review Gate: Open Review Gate v2`
3. **å¼€å§‹ä½¿ç”¨**: åœ¨èŠå¤©ç•Œé¢ä¸­è¾“å…¥æ¶ˆæ¯æˆ–ä½¿ç”¨è¯­éŸ³åŠŸèƒ½

## ğŸ”§ åŠŸèƒ½è¯¦è§£

### MCPæ¶ˆæ¯å±•ç¤ºåŠŸèƒ½

Review Gate V2 åœ¨èŠå¤©çª—å£ä¸­å±•ç¤ºMCPç›¸å…³çš„æ¶ˆæ¯å’ŒçŠ¶æ€ï¼Œå½“å‰æ”¯æŒä»¥ä¸‹æ¶ˆæ¯å±•ç¤ºï¼š

#### å½“å‰æ¶ˆæ¯å±•ç¤ºåŠŸèƒ½

1. **ç”¨æˆ·å‘é€çš„æ¶ˆæ¯**: 
   ```
   ğŸ‘¤ ç”¨æˆ·: "å¾®ç§¯åˆ†è¯æ˜"
   ğŸ‘¤ ç”¨æˆ·: "cursorèŠå¤©çª—å£è¾“å‡º"
   ğŸ‘¤ ç”¨æˆ·: "ç°åœ¨æ—¶é—´æ˜¯å¤šå°‘"
   ```

2. **ç³»ç»Ÿç¡®è®¤æ¶ˆæ¯** (å‘é€åçš„éšæœºç¡®è®¤):
   ```
   ğŸ• Delivered faster than pizza on a Friday night!
   ğŸ¤– Your wisdom has been transmitted to the digital overlords!
   ğŸ“ Message received and filed under 'Probably Important'!
   âš¡ Message delivered! Agent is probably doing agent things now...
   ğŸ§  Your input is now part of the agent's master plan!
   ```

3. **MCPçŠ¶æ€æŒ‡ç¤º**:
   ```
   ğŸŸ¢ MCP Active - ç»¿è‰²åœ†ç‚¹è¡¨ç¤ºMCPæœåŠ¡å™¨è¿æ¥æ­£å¸¸
   ğŸŸ  MCP Inactive - æ©™è‰²åœ†ç‚¹è¡¨ç¤ºMCPæœåŠ¡å™¨æœªè¿æ¥
   ```

4. **è¯­éŸ³å’Œå›¾åƒå¤„ç†æ¶ˆæ¯**:
   ```
   ğŸ¤ Recording started...
   ğŸ“ Speech transcription completed
   ğŸ–¼ï¸ Image uploaded: filename.png (125.4 KB)
   ```

#### æ¶ˆæ¯æ¥æ”¶å±•ç¤ºè¯´æ˜

**æ³¨æ„**: å½“å‰ç‰ˆæœ¬ä¸»è¦å±•ç¤º**å‘é€ç»™MCPçš„æ¶ˆæ¯**å’Œ**ç³»ç»ŸçŠ¶æ€**ï¼Œè€Œ**æ¥è‡ªMCPæœåŠ¡å™¨çš„å“åº”æ¶ˆæ¯**éœ€è¦åœ¨Cursorä¸»èŠå¤©ç•Œé¢ä¸­æŸ¥çœ‹ã€‚

#### æ¶ˆæ¯æµå‘å›¾ç¤º

```
ç”¨æˆ·è¾“å…¥ â†’ Review Gateç•Œé¢ â†’ MCPæœåŠ¡å™¨ â†’ Cursor Agent â†’ Cursorä¸»ç•Œé¢
   â†‘                â†“
æ˜¾ç¤ºç¡®è®¤æ¶ˆæ¯    æ˜¾ç¤ºå‘é€çŠ¶æ€     (Agentå“åº”åœ¨ä¸»ç•Œé¢æ˜¾ç¤º)
```

**ä¸ºä»€ä¹ˆä¸èƒ½çœ‹åˆ°æ¥æ”¶çš„æ¶ˆæ¯ï¼Ÿ**

1. **æ¶æ„è®¾è®¡**: Review Gateä¸»è¦ä½œä¸º**è¾“å…¥å·¥å…·**ï¼Œä¸“æ³¨äºæ”¶é›†ç”¨æˆ·åé¦ˆ
2. **MCPåè®®**: æœåŠ¡å™¨å“åº”ç›´æ¥è¿”å›ç»™Cursor Agentï¼Œä¸ä¼šå›ä¼ åˆ°Review Gate
3. **ç•Œé¢åˆ†ç¦»**: Agentçš„å¤„ç†ç»“æœå’Œå›å¤æ˜¾ç¤ºåœ¨Cursorä¸»èŠå¤©ç•Œé¢
4. **å•å‘é€šä¿¡**: å½“å‰å®ç°ä¸ºå•å‘å‘é€æ¨¡å¼ï¼Œç¡®ä¿æ¶ˆæ¯å‡†ç¡®ä¼ é€’ç»™Agent

**å¦‚ä½•æŸ¥çœ‹Agentçš„å›å¤ï¼Ÿ**
- åœ¨Cursorä¸»ç•Œé¢çš„èŠå¤©çª—å£ä¸­æŸ¥çœ‹Agentçš„å›å¤
- Review Gateå‘é€æ¶ˆæ¯åï¼Œåˆ‡æ¢åˆ°Cursorä¸»ç•Œé¢æŸ¥çœ‹å¤„ç†ç»“æœ

#### å¢å¼ºæ¶ˆæ¯æ¥æ”¶æ˜¾ç¤º (æœªæ¥ç‰ˆæœ¬)

ä¸ºäº†æ›´å¥½åœ°å±•ç¤ºæ¥æ”¶åˆ°çš„MCPæ¶ˆæ¯ï¼Œå¯ä»¥è€ƒè™‘æ·»åŠ ï¼š

```javascript
// ç¤ºä¾‹ï¼šæœªæ¥å¯èƒ½çš„æ¶ˆæ¯æ¥æ”¶æ˜¾ç¤º
ğŸ”„ MCP Request: "è¯·å®¡æŸ¥è¿™æ®µä»£ç "
ğŸ“¨ Agent Message: "æˆ‘éœ€è¦ä½ çš„åé¦ˆ..."
âš¡ Tool Call: review_gate_chat
âœ… Response Sent: "ä»£ç çœ‹èµ·æ¥ä¸é”™ï¼Œä½†å»ºè®®æ·»åŠ é”™è¯¯å¤„ç†"
```

#### æ¶ˆæ¯å±•ç¤ºé…ç½®

æ¶ˆæ¯åœ¨èŠå¤©çª—å£ä¸­æŒ‰ä»¥ä¸‹æ–¹å¼å±•ç¤ºï¼š

- **å®æ—¶çŠ¶æ€æŒ‡ç¤ºå™¨**: æ©™è‰²/ç»¿è‰²åœ†ç‚¹æ˜¾ç¤ºMCPè¿æ¥çŠ¶æ€
- **æ¶ˆæ¯åˆ†ç±»**: ç³»ç»Ÿæ¶ˆæ¯ã€ç”¨æˆ·æ¶ˆæ¯ã€é”™è¯¯æ¶ˆæ¯ä½¿ç”¨ä¸åŒæ ·å¼
- **æ—¶é—´æˆ³**: æ¯æ¡æ¶ˆæ¯éƒ½å¸¦æœ‰ç²¾ç¡®çš„æ—¶é—´æˆ³
- **äº¤äº’åé¦ˆ**: å‘é€æ¶ˆæ¯åæ˜¾ç¤ºæœ‰è¶£çš„ç¡®è®¤ä¿¡æ¯

### è¯­éŸ³åŠŸèƒ½

- **ä¸€é”®å½•éŸ³**: ç‚¹å‡»éº¦å…‹é£å›¾æ ‡å¼€å§‹/åœæ­¢å½•éŸ³
- **å®æ—¶åé¦ˆ**: å½•éŸ³çŠ¶æ€å®æ—¶æ˜¾ç¤º
- **è‡ªåŠ¨è½¬å½•**: ä½¿ç”¨Faster-Whisperè¿›è¡Œæœ¬åœ°è½¬å½•
- **é”™è¯¯å¤„ç†**: è¯¦ç»†çš„é”™è¯¯æç¤ºå’Œæ•…éšœæ’é™¤å»ºè®®

### å›¾åƒå¤„ç†

- **å¤šç§ä¸Šä¼ æ–¹å¼**: 
  - æ‹–æ‹½æ–‡ä»¶åˆ°èŠå¤©çª—å£
  - ä»å‰ªè´´æ¿ç²˜è´´å›¾åƒ
  - ç‚¹å‡»é™„ä»¶æŒ‰é’®é€‰æ‹©æ–‡ä»¶
- **é¢„è§ˆåŠŸèƒ½**: ä¸Šä¼ çš„å›¾åƒæ”¯æŒé¢„è§ˆå’Œåˆ é™¤
- **æ ¼å¼æ”¯æŒ**: PNG, JPG, JPEG, GIF, BMP, WebP

## ğŸ’¡ åŠŸèƒ½å¢å¼ºå»ºè®®

### å¢å¼ºMCPæ¶ˆæ¯æ¥æ”¶æ˜¾ç¤º

å¦‚æœéœ€è¦åœ¨Review GateèŠå¤©çª—å£ä¸­æ˜¾ç¤ºæ›´å¤šæ¥è‡ªMCPçš„æ¶ˆæ¯ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹æŠ€æœ¯æ–¹æ¡ˆï¼š

#### 1. ç›‘å¬MCPå“åº”æ–‡ä»¶
```javascript
// åœ¨extension.jsä¸­æ·»åŠ å“åº”æ–‡ä»¶ç›‘å¬
function watchMcpResponses() {
    const responsePattern = getTempPath('mcp_agent_response_*.json');
    // ç›‘å¬Agentå“åº”æ–‡ä»¶å¹¶åœ¨èŠå¤©çª—å£æ˜¾ç¤º
}
```

#### 2. è§£æå·¥å…·è°ƒç”¨å†…å®¹
```javascript
// æ˜¾ç¤ºæ›´è¯¦ç»†çš„å·¥å…·è°ƒç”¨ä¿¡æ¯
function displayToolCallDetails(toolData) {
    const message = `
ğŸ”§ å·¥å…·è°ƒç”¨: ${toolData.tool}
ğŸ“ æ¶ˆæ¯: ${toolData.message}
âš¡ è§¦å‘ID: ${toolData.trigger_id}
    `;
    // å‘é€åˆ°èŠå¤©çª—å£æ˜¾ç¤º
}
```

#### 3. åŒå‘æ¶ˆæ¯åŒæ­¥
```javascript
// å®ç°Agentæ¶ˆæ¯çš„å®æ—¶åŒæ­¥æ˜¾ç¤º
function syncAgentMessages() {
    // ç›‘å¬Cursor Agentçš„æ¶ˆæ¯å¹¶åœ¨Review Gateä¸­æ˜¾ç¤º
    // å®ç°çœŸæ­£çš„åŒå‘æ¶ˆæ¯å±•ç¤º
}
```

#### å½“å‰é™åˆ¶è¯´æ˜

- **å•å‘æ˜¾ç¤º**: ç›®å‰ä¸»è¦æ˜¾ç¤ºç”¨æˆ·è¾“å…¥å’Œç³»ç»Ÿç¡®è®¤
- **MCPåè®®é™åˆ¶**: MCPå“åº”ç›´æ¥è¿”å›ç»™Cursor Agent
- **ç•Œé¢åˆ†ç¦»**: Review Gateä½œä¸ºè¾“å…¥å·¥å…·ï¼Œä¸»è¦èŠå¤©åœ¨Cursorç•Œé¢

## ğŸ› ï¸ å¼€å‘ä¸æ„å»º

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd cursor-extension

# å®‰è£…ä¾èµ–
npm install

# å®‰è£…VSCEå·¥å…· (å¦‚æœè¿˜æ²¡å®‰è£…)
npm install -g @vscode/vsce
```

### VSIXæ‰“åŒ…å‘½ä»¤

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“åŒ…æ‰©å±•ä¸ºVSIXæ–‡ä»¶ï¼š

```bash
# åŸºç¡€æ‰“åŒ…å‘½ä»¤
npm run package

# æˆ–è€…ç›´æ¥ä½¿ç”¨vsce
vsce package

# æŒ‡å®šç‰ˆæœ¬æ‰“åŒ…
vsce package --version 2.7.4

# æ‰“åŒ…å¹¶å¿½ç•¥æŸäº›æ–‡ä»¶
vsce package --out review-gate-v2.vsix

# è¯¦ç»†è¾“å‡ºæ‰“åŒ…è¿‡ç¨‹
vsce package --verbose

# é¢„å‘å¸ƒç‰ˆæœ¬æ‰“åŒ…
vsce package --pre-release
```

### æ‰“åŒ…é…ç½®è¯´æ˜

åœ¨ `package.json` ä¸­å·²é…ç½®çš„æ‰“åŒ…è„šæœ¬ï¼š

```json
{
  "scripts": {
    "package": "vsce package"
  },
  "devDependencies": {
    "@vscode/vsce": "^2.32.0"
  }
}
```

### æ‰“åŒ…å‰æ£€æŸ¥

```bash
# æ£€æŸ¥æ‰©å±•åŒ…å†…å®¹
vsce ls

# éªŒè¯æ‰©å±•é…ç½®
vsce verify

# å‘å¸ƒå‰æµ‹è¯• (ä¸å®é™…å‘å¸ƒ)
vsce publish --dry-run
```

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬å·¥ä½œæµ

1. **å¯åŠ¨Review Gate**:
   ```
   Cmd+Shift+R â†’ æ‰“å¼€Review Gateç•Œé¢
   ```

2. **MCPå·¥å…·è°ƒç”¨**:
   ```
   Cursor Agent â†’ è°ƒç”¨ review_gate_chat â†’ å¼¹å‡ºReview Gate
   ```

3. **å¤šæ¨¡æ€è¾“å…¥**:
   ```
   æ–‡æœ¬è¾“å…¥ + å›¾åƒé™„ä»¶ + è¯­éŸ³è¾“å…¥ â†’ å‘é€ç»™Agent
   ```

4. **å“åº”å¤„ç†**:
   ```
   Agentæ¥æ”¶å“åº” â†’ å¤„ç†åé¦ˆ â†’ ç»§ç»­å¯¹è¯
   ```

### é«˜çº§ç”¨æ³•

- **æ‰¹é‡å›¾åƒä¸Šä¼ **: åŒæ—¶æ‹–æ‹½å¤šä¸ªå›¾åƒæ–‡ä»¶
- **è¯­éŸ³å‘½ä»¤**: ä½¿ç”¨è¯­éŸ³è¾“å…¥å¤æ‚çš„ä»£ç å®¡æŸ¥æ„è§
- **MCPçŠ¶æ€ç›‘æ§**: å®æ—¶æŸ¥çœ‹MCPæœåŠ¡å™¨è¿æ¥çŠ¶æ€

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **MCPè¿æ¥å¤±è´¥**:
   - æ£€æŸ¥MCPæœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
   - æŸ¥çœ‹ä¸´æ—¶æ–‡ä»¶ç›®å½•æƒé™

2. **è¯­éŸ³åŠŸèƒ½ä¸å·¥ä½œ**:
   ```bash
   # æ£€æŸ¥SoXå®‰è£…
   sox --version
   
   # æµ‹è¯•éº¦å…‹é£
   sox -d test.wav trim 0 3
   ```

3. **å›¾åƒä¸Šä¼ å¤±è´¥**:
   - æ£€æŸ¥å›¾åƒæ–‡ä»¶æ ¼å¼
   - ç¡®è®¤æ–‡ä»¶å¤§å°é™åˆ¶

### æ—¥å¿—æŸ¥çœ‹

- **æ‰©å±•æ—¥å¿—**: Cursor â†’ è¾“å‡º â†’ Review Gate V2 ã‚²ãƒ¼ãƒˆ
- **MCPæ—¥å¿—**: ä¸´æ—¶ç›®å½•ä¸­çš„ `review_gate_v2.log`
- **ç”¨æˆ·è¾“å…¥æ—¥å¿—**: `review_gate_user_inputs.log`

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'feat: æ·»åŠ amazingåŠŸèƒ½'`
4. æ¨é€åˆ°åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ä¸­æ–‡ç¼–å†™commit message
- éµå¾ªJavaScriptæ ‡å‡†ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¤ ä½œè€…

**Lakshman Turlapati**

- GitHub: [@LakshmanTurlapati](https://github.com/LakshmanTurlapati)
- Email: lakshman@example.com

## ğŸ™ è‡´è°¢

- Cursorå›¢é˜Ÿæä¾›çš„ä¼˜ç§€IDEå¹³å°
- MCPåè®®çš„å¼€å‘è€…ä»¬
- SoXå’ŒFaster-Whisperé¡¹ç›®
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#review-gate-v2-ã‚²ãƒ¼ãƒˆ---cursor-extension)**

Made with â¤ï¸ for the Cursor community

</div>
